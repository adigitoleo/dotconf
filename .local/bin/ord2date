#!/usr/bin/env python3
"""Convert between ordinal date and calendar date."""

import argparse
import datetime

parser = argparse.ArgumentParser(
    description="Convert between ordinal date YYYY-DDD (D = day-of-year) and"
                " calendar date YYYY-MM-DD. Automatically detects required"
                " conversion."
)

parser.add_argument(
    'date',
    help="either ordinal or calendar date in dashed ISO format"
)

args = parser.parse_args()

INVALID_INPUT_MSG = "incorrect input, must be YYYY-DDD or YYYY-MM-DD"

if args.date.startswith('-'):
    parser.error(INVALID_INPUT_MSG)
if args.date.endswith('-'):
    parser.error(INVALID_INPUT_MSG)

if len(args.date.split('-')) == 2:
    ord2date = datetime.datetime.strptime(f'{args.date}', '%Y-%j').date()
    ord2date.strftime('%d-%m%-%Y')
    print(ord2date)
elif len(args.date.split('-')) == 3:
    date2ord = datetime.datetime.strptime(f'{args.date}', '%Y-%m-%d')
    date2ord = date2ord.timetuple()
    date2ord = date2ord.tm_year * 1000 + date2ord.tm_yday
    date2ord = str(date2ord)
    date2ord = date2ord[:4] + '-' + date2ord[4:]
    print(date2ord)
else:
    parser.error(INVALID_INPUT_MSG)
