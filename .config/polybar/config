;==========================================================
;
;
;   ██████╗  ██████╗ ██╗  ██╗   ██╗██████╗  █████╗ ██████╗
;   ██╔══██╗██╔═══██╗██║  ╚██╗ ██╔╝██╔══██╗██╔══██╗██╔══██╗
;   ██████╔╝██║   ██║██║   ╚████╔╝ ██████╔╝███████║██████╔╝
;   ██╔═══╝ ██║   ██║██║    ╚██╔╝  ██╔══██╗██╔══██║██╔══██╗
;   ██║     ╚██████╔╝███████╗██║   ██████╔╝██║  ██║██║  ██║
;   ╚═╝      ╚═════╝ ╚══════╝╚═╝   ╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═╝
;
;
;   To learn more about how to configure Polybar
;   go to https://github.com/polybar/polybar
;
;==========================================================

;== GLOBAL SECTIONS ==;

[colors]

background = #66292F
background-alt = #8A4B53
foreground = #F5BB89
foreground-alt = #A67458
warn = #D47D49
alert = #AF0032


;== BARS ==;

[bar/bar-bsp]

monitor = ${env:MONITOR:}
enable-ipc = true
dpi = 156
width = 100%
height = 36
bottom = true
line-size = 0
border-size = 0
wm-restack = bspwm

background = ${colors.background}
foreground = ${colors.foreground}

padding-left = 0
padding-right = 2

module-margin-left = 0
module-margin-right = 4

fixed-center = false

; Font for text.
font-0 = sans:size=10:bold;3
; Font for glyphs.
font-1 = Quivira:size=12;2

modules-left = bspwm
modules-center = moc
modules-right = wlan filesystem xkeyboard xbacklight pulseaudio battery date theme-switcher

tray-position = right
tray-padding = 1
tray-maxsize = 26

cursor-click = pointer
cursor-scroll = ns-resize


;== STATUSBAR MODULES ==;

[module/bspwm]

type = internal/bspwm
pin-workspaces = true
enable-scroll = false

label-focused = %name%
label-focused-background = ${colors.background-alt}
label-focused-padding = 2

label-occupied = %name%
label-occupied-padding = 2
label-occupied-foreground = ${colors.foreground-alt}

label-urgent = %name%
label-urgent-background = ${colors.alert}
label-urgent-padding = 2

label-empty =
label-empty-foreground = ${colors.foreground-alt}
label-empty-padding = 2


[module/moc]

type = custom/script

exec = mocprint
exec-if = mocp -Q %state != "STOP"
interval = 0.5
click-left = mocp -G &


[module/cpu]

type = internal/cpu
interval = 1
label = ▣ %percentage%%
; TODO: critical level warning, not yet supported.


[module/memory]

type = internal/memory
interval = 1
label = 𝄂𝄃 %gb_free%
; TODO: critical level warning, not yet supported.


[module/wlan]

type = internal/network
interface = wlan0
interval = 2.0

label-connected = 📶 %signal%%

label-disconnected = Wi-Fi off
label-disconnected-foreground = ${colors.foreground-alt}

label-packetloss = %signal%%
label-packetloss-foreground = ${colors.alert}
format-packetloss = <animation-packetloss> <label-packetloss>
animation-packetloss-0 = ⚠
animation-packetloss-0-foreground = ${colors.alert}
animation-packetloss-1 = 📶
animation-packetloss-1-foreground = ${colors.alert}
animation-packetloss-framerate = 500


[module/filesystem]

type = internal/fs
interval = 25

mount-0 = /
label-mounted = ⿳ %free%


[module/xbacklight]

type = internal/xbacklight

label =  %percentage%%
ramp-0 = 🔅
ramp-1 = 🔆
ramp-2 = 🔆
format = <ramp> <label>


[module/pulseaudio]

type = internal/pulseaudio

label-volume =  %percentage%%
label-volume-foreground = ${colors.foreground}
ramp-volume-0 = 🔉
ramp-volume-1 = 🔊
ramp-volume-2 = 🔊
format-volume = <ramp-volume> <label-volume>

label-muted = 🔇 off
label-muted-foreground = ${colors.foreground-alt}


[module/battery]

type = internal/battery
battery = BAT0
adapter = AC
poll-interval = 4
full-at = 98
time-format = %H:%M

label-full = ⚡ full
label-full-foreground = ${colors.foreground-alt}

label-charging = ⚡ %percentage%%
format-charging = <ramp-capacity> <label-charging>%{F-}

label-discharging = ⛫ %percentage%% %time%
format-discharging = <ramp-capacity> <label-discharging>%{F-}

; Workaround for dynamic battery colors.
; Can't use variable interpolation, have to define colors explicitly.
ramp-capacity-0 = %{F#FF7477}
ramp-capacity-1 = %{F#FF6F24}
ramp-capacity-2 = %{F#D7BF40}
ramp-capacity-3 = %{F#AABF40}
ramp-capacity-4 = %{F#84BF40}


[module/xkeyboard]

type = internal/xkeyboard

label-layout = ⌶ %layout%
format = <label-layout><label-indicator>

label-indicator-on-capslock = +CL


[module/date]
type = internal/date
interval = 5

date = "%a %d %b"
date-alt = "%Y-%m-%d"

time = %l:%M %p
time-alt = %H:%M

label = %date%, %time%


[module/theme-switcher]
type = custom/script

exec = theme query-fancy
interval = 1
click-left = theme toggle


[settings]
screenchange-reload = true


[global/wm]
margin-top = 0
margin-bottom = 0

; vim:ft=dosini
